



#### 01 Bascis

1. jetpack的设计思想跟react hooks很相似： 
   1. useState = remember + mutableStateOf, 通常位于Composable中, 随Composable销毁
   2. jotai atom = StateFlow 通常位于ViewModel中, 处理跨UI的状态, 比如网络数据
   3. react hooks = Composable： 频繁调用，纯函数最好；负责jsx，Composable函数被[网友戏称为**KotlinUI**](https://zhuanlan.zhihu.com/p/585400570)
   4. useEffect = LaunchEffect + DisposableEffect
2. 之所以普通函数无法调用suspend函数，是因为suspend函数在编译时生成了一个$continuation参数，而普通函数缺少这个，因此无法调用suspend函数；同样普通函数无法调用Composable函数，是因为Composable函数在编译时生成了一个$composer参数，而普通函数缺少这个。
3. remember基于`currentComposer.cache`实现, 它就是对象的cache. 
   1. Composable不是class而是function, 因此会频繁recompose被调用
   1. remember系列的变量是基于在compose方法中的**调用顺序index而创建cache**的, 因此禁止在if ()等条件语句中使用remember, 否则顺序就错了
   1. remember也支持在创建cache的时候传入key, 这样就可以基于不同的key创建不同的cache了