



部署流程

1. 当前使用版本是5.3.1, 项目采用urp
2. 因为我们采用了client与art工程分离的模式, 因此安装流程有一些不一样
3. 正常安装UniStorm - Volumetric Clouds Sky Modular Weather and Cloud Shadows 5.3.1.unitypackage到art工程
4. 打开这个[网址](https://github.com/Black-Horizon-Studios/UniStorm-Weather-System/wiki/Setting-up-UniStorm-with-URP), 按流程调整项目, 使其适应urp环境
5. 项目中有两个目录: UniStorm Weather System 与  PostProcessing, 将PostProcessing目录拖入到UniStorm Weather System目录中
6. 新建两个文件夹, 分别收Runtime与Editor, 分别收录Runtime相关的MonoBehavior脚本与Editor下运行的脚本代码. 从现在开始, 只有这两个目录下有代码文件
7. 在Runtime目录下, 新建一个UniStormWeatherSystem.asmdef文件, 双击打开, 设置内容如下, 目前只是添加了references部分, 用于编译通过



```json
{
    "name": "UniStormWeatherSystem",
    "rootNamespace": "",
    "references": [
        "Unity.RenderPipelines.Core.Editor",
        "Unity.RenderPipelines.Core.Editor.Tests",
        "Unity.RenderPipelines.Core.Runtime",
        "Unity.RenderPipelines.Core.Runtime.Tests",
        "Unity.RenderPipelines.Core.ShaderLibrary",
        "Unity.RenderPipelines.ShaderGraph.ShaderGraphLibrary",
        "Unity.RenderPipelines.Universal.Editor",
        "Unity.RenderPipelines.Universal.Editor.Tests",
        "Unity.RenderPipelines.Universal.Runtime",
        "Unity.RenderPipelines.Universal.Runtime.Tests",
        "Unity.RenderPipeline.Universal.ShaderLibrary",
        "Unity.RenderPipelines.Universal.Shaders"
    ],
    "includePlatforms": [],
    "excludePlatforms": [],
    "allowUnsafeCode": false,
    "overrideReferences": false,
    "precompiledReferences": [],
    "autoReferenced": true,
    "defineConstraints": [],
    "versionDefines": [],
    "noEngineReferences": false
}
```



8. 打开unity3d工程所在的目录, 找到Library/ScriptAssemblies, 找到UniStormWeatherSystem.dll与其pdb文件
9. 将这两个文件copy到client工程的Plugins目录下, 这样, 就可以找到对应的脚本文件了, 并且打包client项目, 不再影响art或其它工程
10. 因为unistorm改了urp的设置, 向urp_Renderer.asset中加了一些Render Features, 但直接copy到client工程中发现会出错, 目前是手动在client工程中设置一遍