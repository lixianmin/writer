



#### 01 Basics

1. ComputeShader: 利用GPU高并发, 缓解CPU计算压力
   1. Batch IO: 批量交换ComputeBuffer (需Dispose())或RenderTexture (需Release()), 通常在GPU端写入
   2. 多GPU线程间无依赖

2. `shader.Dispatch(kernelHandle, textureResolution/8, textureResolution/8, 1);`意味着:
   1. `[numthreads(8, 8, 1)]`, 
   2. `id.xy`的范围是textureResolution, 因此textureResolution也是需要通过`shader.SetInt()`传入的
   3. `id.xy/textureResolution`就归一化到[0, 1]区间了
   4. texture的坐标, 左下角[0, 0], 右上角[width,height], 通常width==height=1024这种
3. builtin functions:
   1. `length(v)`: 向量的长度
   2. `step(a, b)`: `return a<b ? 0:1`





| C#            | Shader                              | Notes                              |
| ------------- | ----------------------------------- | ---------------------------------- |
| ComputeBuffer | RWStructedBuffer\<StructName\> buff | 批量交换任意格式buff               |
| RenderTexture | RWTexture2D\<float4\> texture       | shader填充RT, 后把RT设置给material |
|               |                                     |                                    |
|               |                                     |                                    |



#### 09 References

1. [Learn to Write Unity Compute Shaders](https://www.bilibili.com/video/BV12G4y1k76a): 很好的在线视频教程, 对应的[github代码](https://github.com/NikLever/UnityComputeShaders)
2. 