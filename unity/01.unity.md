

#### 1 Basics

##### 01 åŸºç¡€

1. Get a free personal license, å¦‚æœå¤±è´¥, å¯**Sign outç„¶åé‡æ–°ç™»å½•**åå†å°è¯•

   1. ubuntu 22.04/24.04ä¸Šé¢ï¼Œ å› ä¸ºç¼ºå°‘libsslçš„æ—§ç‰ˆæœ¬åº“ä¸€ç›´ä¸‹è½½ ä¸åˆ°license, [è§£å†³æ–¹æ¡ˆ](https://gist.github.com/joulgs/c8a85bb462f48ffc2044dd878ecaa786)  ï¼š `
    wget http://archive.ubuntu.com/ubuntu/pool/main/o/openssl/libssl1.1_1.1.0g-2ubuntu4_amd64.deb `
       `sudo apt install libssl1.1_1.1.0g-2ubuntu4_amd64.deb` 
   2. ç„¶åé‡å¯ubuntu
2. Hierarchy:
   1. æœ€å·¦è¾¹çš„å°çœ¼ç›å›¾æ ‡, é€‰ä¸­å°±ä¸æ˜¾ç¤ºç‰©ä½“äº†, åœ¨è°ƒè¯•2Dç•Œé¢çš„æ—¶å€™, ç”¨äºå…³é—­3Dåœºæ™¯, ç‰¹åˆ«æ–¹ä¾¿

3. Inspector
   1. é€‰ä¸­æŸä¸€ä¸ªå±æ€§å, å³é”®å¯ä»¥copyæˆ–pasteå±æ€§å€¼
   2. å³ä¸Šæœ‰ä¸€ä¸ªğŸ”’, é”å®šåå†é€‰ä¸­å…¶å®ƒç‰©å“å°±ä¸ä¼šåˆ‡æ¢ä¸ºæ–°ç‰©ä½“çš„å±æ€§

4. Scene:
   1. sceneä¸­ç»å¸¸èƒ½çœ‹åˆ°ä¸å°‘Gizmosçš„3D Iconsï¼Œå¯ä»¥åœ¨Sceneä¸‹çš„Toggle Gizmosçš„ä¸‹æ‹‰èœå•ä¸­çœ‹åˆ°å…·ä½“æ˜¯ä»€ä¹ˆ
   2. sceneçª—å£å³ä¸Šè§’, åæ ‡è½´çš„é‚£ä¸ªåœ°æ–¹, æ­£å¸¸ä½¿ç”¨Persp, å¦‚æœæ˜¾ç¤ºä¸ºIso, åˆ™é•œå¤´æ¨æ‹‰ä¼šå¼‚å¸¸, ç‚¹å‡»Isoåˆ‡å›åˆ°Perspå³å¯

5. cmd+7æ‰“å¼€Profiler â†’ æŠŠProfilerä¸­çš„Timelineæ”¹ä¸ºHierarchy â†’ é€‰ä¸­Deep Profile â†’ ç„¶ååœ¨CPU Usageä¸­å°±å¯ä»¥çœ‹åˆ°è°ƒç”¨æ ˆäº†
6. é€‰ä¸­cameraï¼ŒæŒ‰ä¸‹Cmd+Shift+Fï¼Œå°†Gameçš„é•œå¤´ä¸å½“å‰Sceneçš„é•œå¤´å¯¹é½ï¼› (å¦‚æœå¯ç”¨äº†cinemachineçš„è¯ï¼Œåˆ™éœ€è¦é€‰ä¸­CM cam1)
7. Ctrl+K, æ‰“å¼€æœç´¢, å¯ä»¥æŒ‰ç±»å‹ä¹‹ç±»çš„æœç´¢æ¸¸æˆèµ„æº
   1. tag:Slot, æŒ‰tagè¿‡æ»¤




##### 02 æ’ä»¶

|                                                              |                                                              |      |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ---- |
| 2D Sprite                                                    | å°±æ˜¯sprite editor                                            |      |
| ~~Addressables~~                                             | abæ‰“åŒ…, åªæ”¯æŒhttpsä¸‹è½½, å·²ç»è¢«YooAssetä»£æ›¿                  |      |
| Android Logcat                                               | å®˜æ–¹æ’ä»¶, è”æœºapkæ—¶è‡ªåŠ¨å¼¹å‡ºæ—¥å¿—çª—å£                          |      |
| [~~Animancer~~](https://assetstore.unity.com/packages/tools/animation/animancer-lite-116516) | AnimationClipæ’­æ”¾, å·²ç»ä½¿ç”¨Playableä»£æ›¿                      |      |
| ARKit Face Tracking                                          | è¡¨æƒ…æ•æ‰                                                     |      |
| [Automatic LODs](https://assetstore.unity.com/packages/tools/modeling/nanolod-automatic-lods-193314) | åšMeshçš„LOD                                                  |      |
| Cinemachine                                                  | é•œå¤´                                                         |      |
| DOTS                                                         | 1. [com.unity.entities.graphics](https://docs.unity3d.com/Packages/com.unity.entities.graphics@latest): ä»…URP/HDRP; ä¾èµ–Entities<br />2. [com.unity.physics](https://docs.unity3d.com/Packages/com.unity.physics@1.0/manual/index.html): ç¡®å®šæ€§, æ— çŠ¶æ€ç‰©ç†å¼•æ“; ä¾èµ–Entities<br /><br />1. [Entities](https://docs.unity3d.com/Packages/com.unity.entities@1.0/manual/index.html): é¢å‘æ•°æ®<br />2. [Burst](https://docs.unity3d.com/Packages/com.unity.burst@1.8/manual/index.html): é¢å‘ARMç¡¬ä»¶, é¢å‘æ•°æ®; IL2CPPé¢å‘å¯¹è±¡<br />3. [JobSystem](https://docs.unity3d.com/Manual/JobSystemCreatingJobs.html): ä»»åŠ¡ç¼–æ’, ç±»ä¼¼WaitGroup, èšæ˜¯ä¸€å›¢ç«<br />4. NativeArray: éæ‰˜ç®¡å †<br /><br />1. 2022.3.8f1c1 + Entities 1.0.16, åªè¦åœ¨subsceneä¸‹æŒ‚Authoring+Bakerçš„è„šæœ¬, ç„¶åç¼–è¯‘, å°±å¤§æ¦‚ç‡ä¼šå¡æ­»editor. æ„Ÿè§‰æ˜¯bakeçš„é—®é¢˜<br />2. å¥½åƒä¸æ”¯æŒ[hybridclr](https://github.com/focus-creative-games/hybridclr/issues/105)çƒ­æ›´æ–° |      |
| [GPUInstance](https://github.com/lixianmin/GPUInstance)      | é€‚åˆæ•é±¼æ¸¸æˆ, å¤šæ¨¡å‹å›ºå®šè·¯çº¿æ¸¸æ¥æ¸¸å»;  compute shaderå¯ä»¥ç”¨äºandroid |      |
| Input System                                                 | ä»£æ›¿Inputè¾“å…¥ç³»ç»Ÿ                                            |      |
| [Mathematics](https://docs.unity3d.com/Packages/com.unity.mathematics@1.3/manual/index.html) | 1. åŸºäºSIMD, ç±»shaderè¯­æ³•, é¢å‘Burstä¼˜åŒ–                     |      |
| [MemoryProfiler](https://docs.unity3d.com/Packages/com.unity.memoryprofiler@0.7/manual/index.html) | 1. å¦‚æœæ˜¯unity 2021, éœ€è¦åœ¨Packages/manifest.jsonä¸­æ·»åŠ ` "com.unity.memoryprofiler": "0.7.1-preview.1",` |      |
| ProBuilder                                                   | 1. æ¸¸æˆå†…ç½®çš„å»ºæ¨¡å·¥å…·                                        |      |
| [UniTask](https://github.com/Cysharp/UniTask)                | async/awaitå¼‚æ­¥æµç¨‹                                          |      |
| [UniVRM](https://github.com/vrm-c/UniVRM)                    | VRMæ¨¡å‹æ”¯æŒ                                                  |      |
| [YooAsset](https://github.com/tuyoogame/YooAsset)            | abæ‰“åŒ…, æ”¯æŒhttp. [å®‰è£…](https://www.yooasset.com/docs/guide-editor/QuickStart) |      |
| [whisper.unity](https://github.com/Macoron/whisper.unity)    | æ”¯æŒarm64çš„ASR                                               |      |
|                                                              |                                                              |      |





##### 03 Attributes

|                               |                                                       |      |
| ----------------------------- | ----------------------------------------------------- | ---- |
| CustomEditor                  | è‡ªå®šä¹‰æŸä¸ªclassåœ¨editorä¸­æ˜¾ç¤ºçš„æ ·å¼                   |      |
| ExecuteInEditMode             | è®©MonoBehaviourçš„æŸäº›æ–¹æ³•åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ä¹Ÿå¯ä»¥è¿è¡Œ       |      |
| HideInInspector               | è®©æŸä¸ªå¯åºåˆ—åŒ–çš„ç»„ä»¶,  ä¸æ˜¾ç¤ºåœ¨inspectorä¸­            |      |
| Preserve                      | é˜²æ­¢æ‰“åŒ…æ—¶classè¢«strippingæ‰                          |      |
| Range                         | é™å®šintæˆ–floatçš„å–å€¼                                  |      |
| RequireComponent              | è‡ªåŠ¨æ·»åŠ ä¾èµ–çš„ç»„ä»¶                                    |      |
| SerializeField                | ScriptableObjectä¸­privateæˆå‘˜åºåˆ—åŒ–                   |      |
|                               |                                                       |      |
| InitializeOnLoad              | ä¿®æ”¹Editorä¸­çš„classï¼Œè‡ªåŠ¨æ‰§è¡Œæ„é€ æ–¹æ³•                 |      |
| InitializeOnLoadMethod        | ä¿®é¥°Editorä¸­çš„staticæ–¹æ³•                              |      |
| RuntimeInitializeOnLoadMethod | ä¿®é¥°éMonoBehaviourç±»ä¸­çš„staticæ–¹æ³•åœ¨Awake()å‰/åæ‰§è¡Œ |      |



##### 05 ç”Ÿè¯æœ¬

1. armature  éª¨æ¶
1. cine       å½±é™¢
2. damp	é˜»å°¼
3. drag      ç»„åŠ›
3. fatigue  ç–²åŠ³
4. friction  æ‘©æ“¦åŠ›
1. haptic	è§¦è§‰
1. heel       è„šåè·Ÿ
2. henge   é“°é“¾
1. hip         å±è‚¡
1. locomotion	ç§»åŠ¨, ä½ç§»



1. pitch     éŸ³é«˜
2. reticle   ç„å‡†çº¿
3. rig          ç»‘å®š, è£…é…
4. ripple    æ³¢çº¹
5. saber     ä½©å‰‘
6. teleport ç¬ç§»
6. volumetrics ä½“ç§¯é›¾ 



#### 2 å‘ç‰ˆé…ç½®

##### 01 [Managed Code Stripping](https://docs.unity3d.com/Manual/ManagedCodeStripping.html)

1. Project Settings â†’ Player â†’ Managed Stripping Level â†’ Low
   1. å¦‚æœæ˜¯Mediumå°±ä¼šæŠ¥MissingMethodExceptionäº†
2. strippingçš„åº”å¯¹æ‰‹æ®µ, ä¸»è¦æ˜¯Preserveå±æ€§å’Œlink.xmlæ–‡ä»¶
3. Preserveå±æ€§: 
   1. å¯ä»¥æ”¾åˆ°ç±»ä¸Š (æ ¹æ®å†™MetaFactory)çš„æ³¨é‡Š, è¿™ä¸ªå¥½åƒæŠ—ä¸ä½highçº§åˆ«çš„stripping level
   2. å¯ä»¥æ”¾åœ¨æ–¹æ³•ä¸Š, è¿™å°±å¯ä»¥æŠ—ä½highçº§åˆ«çš„stripping leveläº†
   3. å¦‚æœåªæ˜¯æ”¾åˆ°ç±»ä¸Š, è€Œæ•´ä¸ªassemblyæ²¡æœ‰å…¶å®ƒæ˜¾æ€§è¢«å¼•ç”¨classæˆ–scriptçš„è¯, å¯èƒ½æ•´ä¸ªassemblyå°±å…ˆè¢«strippedæ‰äº†, å°±è°ˆä¸ä¸Šæ‰¾åˆ°é‚£ä¸ªç±»äº†
4. link.xml: ä¸»è¦ç”¨äºä¸æ˜¯è‡ªå·±å†™çš„é‚£ç§ç¬¬ä¸‰æ–¹ç±»åº“
   1. NavMeshSurface: `_InitManagers(AdornManager.It, DollManager.It, typeof(NavMeshSurface));`ç›´æ¥ç”¨ä¸€ä¸‹ä¹Ÿå¯ä»¥




##### 02 GPU Instancing

1. å¦‚æœé¡¹ç›®ä½¿ç”¨`Graphics.RenderMeshInstanced`æ‰‹åŠ¨åˆæ‰¹, åˆ™éœ€è¦åœ¨artä¸­è®¾ç½®: Project Settings â†’ Graphicsâ†’ Instancing Variants â†’ Keep All
2. clientå·¥ç¨‹æ— éœ€è®¾ç½®
3. https://forum.unity.com/threads/unity-should-really-clarify-what-the-h-ll-instancing-variants-strip-all-does.693211/



1. é€‰ä¸­urp.asset
2. æŠŠInspectoråˆ‡æ¢ä¸ºDebugæ¨¡å¼, æŠŠUse SRP Batcherçš„é€‰é¡¹å‹¾æ‰
3. unity3dä¼šä½¿ç”¨Instancingåˆæ‰¹, DrawCallä»1500é™åˆ°200å·¦å³, ä¸æ‰‹å·¥åˆæ‰¹ä¸åŒ, åœ¨**Sceneä¸­å¯ä»¥é€‰ä¸­ç‰©ä»¶**
4. åœ¨ä½¿ç”¨`Graphics.RenderMeshInstanced`å¯¹åœºæ™¯ä¸­çš„ç‰©ä»¶æ‰‹åŠ¨åˆæ‰¹çš„æƒ…å†µä¸‹, å®æµ‹æ˜¯å¦æ‰“å¼€è¿™ä¸ªå¼€å…³å¯¹Draw Callæ— å½±å“
5. ~~æˆ–è€…ä½¿ç”¨: `GraphicsSettings.useScriptableRenderPipelineBatching = false;`~~, å®æµ‹ä»£ç è®¾ç½®è¯¥å‚æ•°å, batchesæ²¡æœ‰é™ä¸‹æ¥



##### 03 urp_Renderer.asset

1. Rendering â†’ Depth Priming Mode â†’ Forced
2. è¿™ä¸ªåªæœ‰clienté¡¹ç›®å¼€å¯, è¿™æ ·æ·±åº¦æ£€æµ‹å¯ä»¥å¼€å¯, å¯ä»¥çœ‹åˆ°æµ·æµª; ä½†åœ¨arté¡¹ç›®ä¸­ä¸èƒ½å¼€å¯, å› ä¸ºä¼šå¯¼è‡´å‡ºé”™çš„æœ¬åº”è¯¥å˜ç²‰çº¢çš„shaderå˜æˆåœ¨åœºæ™¯ä¸­ä¸å¯è§



##### 04 å¯ç”¨Mono

1. å¦‚æœil2cppå‘ç‰ˆå¤±è´¥, å¯ä»¥å¯ç”¨Monoä»£æ›¿
2. Project Settings â†’ Player â†’ Other Settings â†’ Configuration â†’ Scripting Backend



##### 05 é”å±å¹•æ–¹å‘

1. Project Settings â†’ Player â†’ Resolution and Representation â†’ Orientation â†’ Default Orientation â†’  Protrait



#### 3 MonoBehaviour

1. å•UIçš„é…ç½®: ç›´æ¥ä½¿ç”¨MbUserDiceConfigè¿™ç§è„šæœ¬, ä¸»è¦ç”¨äºé…ç½®i18næ–‡å­—æè¿°, ä¸€æ¬¡æ€§çš„é…ç½®, ç­–åˆ’å¯ä»¥è°ƒæ•´. å¦‚æœç”¨Metadata, åˆ™éœ€è¦è®¾è®¡Configç±» + æ•°æ®å¡«å†™åˆ°Excelä¸­, ä¸å¦‚ç›´æ¥åœ¨UIä¸Šä½¿ç”¨è„šæœ¬ç®€å•
2. è„šæœ¬æ”¾åˆ°Code.dllä¸­çš„å¥½å¤„: å¯ä»¥å¼•ç”¨é¡¹ç›®ä¸­å…¶å®ƒåœ°æ–¹çš„ä»£ç 
3. è„šæœ¬æ”¾åˆ°Agenté¡¹ç›®ä¸­çš„å¥½å¤„: å¯ä»¥ctrl+Kæ‰“å¼€Searchçª—å£, ç„¶åè¾“å…¥ t:MbLodç›´æ¥æŸ¥çœ‹ç¾æœ¯å·¥ç¨‹ä¸­æœ‰å¤šå°‘èµ„æºå¼•ç”¨äº†è¯¥è„šæœ¬, å¦‚æœæ— äººå¼•ç”¨åˆ™å¯ä»¥åˆ é™¤



1. OnBecameVisible: 
   1. ä¸ä¸€å®šæ˜¯Camera.main, ä»»æ„ä¸€ä¸ªcameraçœ‹è§éƒ½ä¼šè§¦å‘
   2. gameObjectä¸Šé¢å¿…é¡»æœ‰rendereræ‰èƒ½è§¦å‘, çŒœæµ‹æ˜¯è·Ÿboundsåˆ¤å®šæœ‰å…³ç³»
2. 



#### 4 [åˆæ‰¹æ–¹æ¡ˆå¯¹æ¯”](https://forum.unity.com/threads/srp-batcher-and-gpu-instancing.833362/)

1. [Confused about performance of SRP batching vs. GPU instancing.](https://forum.unity.com/threads/confused-about-performance-of-srp-batching-vs-gpu-instancing.949185/)
2. [SRP Batcher: Speed up your rendering](https://blog.unity.com/engine-platform/srp-batcher-speed-up-your-rendering)
3. [GPU instancing](https://docs.unity3d.com/Manual/GPUInstancing.html)



##### 1. Basic rendering

Take a single mesh. Upload mesh data to the GPU once at startup. Every frame set the shader to use, upload all of the material data, and call Draw(). Rinse and repeat for every object.
Benefits: Works on literally every GPU ever made, and is extremely flexible. Unity does some work to try to not change the shader or material data if it doesn't have to, so if two meshes use the exact same material & shader variant it'll sometimes only update the position data and render those meshes one after another.



##### 2. Dynamic batching

Take several meshes with very low poly counts and exactly the same material & shader variant and combine into a single mesh, every single update. Send that mesh data to the GPU, set the shader & material data for that single material, call Draw() once. Done.
Benefits: Very, very fast on the GPU, even with the cost of uploading a new mesh every frame as it's only rendering a single "thing". Dynamic batching is limited to very simple meshes so this usually isn't a ton of data. Particle systems work like this too. Main cost comes from the CPU combing meshes. Limited per object data can be stored in the mesh vertex data.



##### 3. Static batching

Take several different meshes with exactly the same material into a single mesh once during build time / play mode startup. Upload that data to the GPU once on startup. Set the shader variant & material data for that single material, call DrawIndexed() for *each renderer component* as an offset & range of triangle indices. Done.
Benefits: Very fast on the CPU & GPU, but uses a lot of memory and is, well, static. Is quite flexible in terms of allowing individual renderer components to be hidden for occlusion, LOD, or via script. Unity will also swap the shader variant and data for things like dynamic lights & shadows so only the renderer components that are affected needs to be rendered again rather than the whole batched mesh, but that incurs some cost in doing that swap. Per object data can be stored in the mesh vertex data.



##### 4. GPU Instancing

ä»¥mesh+material&shader variantç›¸åŒçš„ç²’åº¦æ”¶é›†æ•°æ®, åœ¨å¯åŠ¨æ—¶æŠŠmeshæ•°æ®ä¸Šä¼ åˆ°GPU, è€Œunique-per-instanceçš„æ•°æ®åˆ™æ”¾åˆ°å¯ä»¥æŒ‰instace idç´¢å¼•çš„arraysä¸­.

å¯¹åŸºæœ¬çš„instancingåªåŒ…æ‹¬object to world matrices, æ›´å¤æ‚çš„æƒ…å†µä¸‹åˆ™å¯ä»¥åŒ…æ‹¬é¢å¤–çš„instancedæ•°æ®, æ¯”å¦‚color, UV offsetsç­‰ (ä¸åŒ…æ‹¬textures). è¿™äº›arrayså¯ä»¥åœ¨è°ƒç”¨DrawMeshInstaced()çš„æ—¶å€™ç”¨ä»£ç æ„å»º, ä¹Ÿå¯ä»¥åœ¨rendererç»„ä»¶ä¸Šé¢ä½¿ç”¨MaterialPropertyBlockè®¾ç½®, å¦‚æœæ˜¯åè€…unity3dä¼šè‡ªåŠ¨åœ¨å†…éƒ¨æŠŠè¿™äº›æ•°æ®åŠ å…¥åˆ°arraysä¸­.

ä¼˜ç‚¹: é€‚åˆç»˜åˆ¶å¤§é‡ç›¸åŒå¯¹è±¡çš„æƒ…æ™¯. CPUéå¸¸å¿«, ä½†GPUä¼šæ…¢ä¸€ç‚¹å„¿, å› ä¸ºshaderä¸­éœ€è¦å¯¹indexed dataæŸ¥è¡¨. ä½†æ•´ä½“ä¸Šå¿«å¾ˆå¤š, å› ä¸ºåœ¨ç»˜åˆ¶æˆåƒä¸Šä¸‡çš„å¯¹è±¡çš„æ—¶å€™, GPUé€šå¸¸åœ¨ç©ºè½¬ä¸­ç­‰å¾…CPUå‘Šè¯‰å®ƒæ¥ä¸‹æ¥è¦æ¸²æŸ“ä»€ä¹ˆ, å› æ­¤è¿™ä¸€ç‚¹é¢å¤–çš„GPUå¼€é”€ä¼šè¢«è¢«éšè—.



##### 5. SRP Batcher

é€‚ç”¨äºå¤§é‡ä¸åŒæè´¨, ä½†å¾ˆå°‘shader variantsçš„æƒ…å½¢.

ä»¥shaderç›¸åŒä¸ºç²’åº¦, æ”¶é›†ä¸åŒmeshesçš„æ•°æ®. å¯åŠ¨æ—¶ä¸Šä¼ mesh dataä¸per-material (æ”¾åˆ°long listsä¸­) çš„æ•°æ®. æŠŠper-objectçš„æ•°æ®æ”¾åˆ°long lists, æ¯å¸§ä¸Šä¼ . é€šè¿‡åœ¨listä¸­è®¾ç½®offsetsæ•°æ®å’ŒDraw()ç»˜åˆ¶æ¯ä¸€ä¸ªmesh.

ä¼˜ç‚¹: åœ¨ä¸¤æ¬¡drawä¹‹é—´ä¸Šä¼ çš„dataå°‘å¾ˆå¤š, å‡å°‘äº†CPUä¸GPUä¹‹é—´çš„äº¤äº’. ä¸ä¼ ç»Ÿæ¸²æŸ“æ–¹æ¡ˆä¸åŒ, åœ¨åˆ‡æ¢ä¸åŒæè´¨çš„æ—¶å€™,  å¼€é”€å¾ˆä½, å› ä¸ºå¾ˆå¤šæ•°æ®å·²ç»ä¸Šä¼ åˆ°GPUäº†.



#### 4 [ScriptableObject](https://blog.csdn.net/weixin_44806268/article/details/122849208)

1. [ä»£æ›¿Enum](https://www.bilibili.com/video/BV1nh411W7vw)
2. ç­–åˆ’ç”¨metadata, ç¾æœ¯ç”¨ScriptableObjectä½œé…ç½®
3. OnValidate: åœ¨loadæˆ–inspectorä¸­ä¿®æ”¹æ—¶è°ƒç”¨, å¯ç”¨äºæ•°æ®æ ¡éªŒ

