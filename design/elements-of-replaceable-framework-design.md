
---

Caution，标题不是《可复用架构设计》，而是《可替换架构设计》。

近期查看其它团队的项目框架代码，发现与想象中的有些差距。基于这些框架完成项目需求并问题，而且从很多编程细节的处理也可以看出这些框架的作者也都是经验丰富的老手，问题出在这些框架的接口和边界不够简洁明确。

代码设计的原则有很多，工作多年的程序员多少都会知道一些。但很多“设计原则”的问题在于它没有给出明确的判别标准，比如”简洁性“，如何判断一段代码是简洁的还是复杂的，很难给出一条另人信服的客观标准，因此在判断时往往都以主观论断为主。因为缺乏客观判别标准，即使框架一开始设计是简洁的，在迭代演变过程中想保持下去也是一件很困难的事情。大家知道，时间短&任务重是多数项目的实际情况，因此在繁重的任务开发过程中，**原则性往往会向方便性妥协**。



比较核心如正交性和紧凑性。但是，

。而且，这种方便性多数都是眼前的苟且，从长远看会严重破坏框架的易用性。

要**时刻牢记我们自己设计的框架不可能是最优的**，在未来的某一天必然需要优化或替换，只有这样才能强迫你自己设计出简洁明确的接口。

从本质原因上来反驳某些设计的问题谢谢是无力的，





当我问到一些功能设计的原因的时候，对方也能够慷慨陈词，列出大量事实来证明这些设计的优点。



