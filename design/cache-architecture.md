



----

#### 缓存穿透

即黑客故意去请求缓存中不存在的数据，导致所有的请求都怼到数据库上，从而数据库连接异常。

1. **利用互斥锁**，缓存失效的时候，先去获得锁，得到锁了，再去请求数据库。没得到锁，则休眠一段时间重试。

2. **采用异步更新策略**，无论 Key 是否取到值，都直接返回。Value 值中维护一个缓存失效时间，缓存如果过期，异步起一个线程去读数据库，更新缓存。需要做缓存预热(项目启动前，先加载缓存)操作。

3. **提供一个能迅速判断请求是否有效的拦截机制**，比如，利用BloomFilter，内部维护一系列合法有效的 Key。迅速判断出，请求所携带的 Key 是否合法有效。如果不合法，则直接返回。



---

#### References

1. [为什么分布式一定要有Redis？](https://studygolang.com/articles/15064)
2. [AutoLoadCache](https://github.com/qiujiayu/AutoLoadCache)
3. [每秒千万级别的量是重生还是炼狱?](https://mp.weixin.qq.com/s?__biz=MzI2NDA0NDM1MA==&mid=2650105193&idx=1&sn=a4066b2994b59e78de846137344228c5&chksm=f2b36f38c5c4e62efc91687c2d29e9f8e40368d660de85d6e01018525e7a2f160152a35869c1)

