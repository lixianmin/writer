

---

#### basics

1. channel变量本身是指针，可用相等操作符判断是否为同一对象或nil
2. 内置函数cap和len返回缓冲区大小和当前已缓冲数量；而于同步通道则都返回0，据此可以判断通道是同步还是异步
3. 同步模式：发送和接收双方配对，然后直接复制数据给对方，如配对失败，则置入等待队列，直到另一方出现后才被唤醒
4. 及时用close关闭通道引发结束通知，否则可能会导致死锁
5. 通知可以是群体性的，也未必就是通知结束，可以是任何需要表达的事件
6. 关闭的通道：
   - 向已关闭的通道发送数据，引发panic
   - 从已关闭的通道接收数据：
     - 如果通道内还有数据，则返回已缓冲数据，此时ok idom返回true
     - 如果通道内没有数据，则返回0值，此时ok idom返回false
7. 向nil通道收发数据，都会阻塞
8. close只能用于send端，而不能用于recv端
9. 



```go
// ok idom
for {
    x, ok := <- c
    // 据此判断通道是否被关闭
    if !ok {
        return
    }
    
    println(x)
}

// range 模式
// 循环获取消息，直到chan被关闭
for x := range c {
    println(c)
}
```

