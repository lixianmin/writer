

#### 01 Basics

##### 1 Basics

1. js中if(a)测试为false的值有：'', 0, null, false, undefined, nan；所以words=['', null, 'hello', undefined].filter(t=>t)的结果是['hello']
2. class, closure, object是js中封装变量的三种方案



```js
// class有field
class Counter1 {
  constructor() {
    this.counter = 0;
  }
  
  increment() {
    this.counter++;
    console.log(`${this.counter}`);
  }
}

var c1 = new Counter1();
c1.increment();

// function可以用closure
function Counter2() {
  let counter = 0;
  function increment() {
    counter++;
    console.log(`${counter}`);
  }
  
  return {increment};
}

var c2 = Counter2();
c2.increment();

// object可以直接定义field
var c3 = {
  counter: 0,
  increment() {
    this.counter++;
    console.log(`${this.counter}`);
  }
}

c3.increment();

```





##### 2 Promise

1. promise三种状态：pending, resolved, rejected
   1. 初始化pending状态，通过调用resolve方法转到resolved状态，通过调用reject转到rejected状态
2. resolved状态的promise会调用后面的第一个.then
3. rejected状态的promise会调用后面的第一个.catch
4. 任何一个rejected状态且后面没有.catch的promise，都会千万浏览器/node环境的全局错误



```js
(function() {
  var promise = new Promise(function (resolve, reject) {
    setTimeout(()=>{
      reject(new Error('1'));
    }, 300);
  }).catch((err)=>{
    //console.log(err);
  }).then((res)=> {
    console.log(res);
  })

  // console.log(promise);
  setTimeout(()=>{
    console.log(promise);
  }, 800);
})();
```





---

#### 09 References

1. [浏览器数据库 IndexedDB 入门教程](https://www.ruanyifeng.com/blog/2018/07/indexeddb.html)
2. [Indexeded problems](https://gist.github.com/pesterhazy/4de96193af89a6dd5ce682ce2adff49a)
3. 