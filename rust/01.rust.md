[toc]



#### 01Basics

##### 1 环境搭建

1. 安装rustup:  `curl [https://sh.rustup.rs](https://sh.rustup.rs/) -sSf | sh`
2. goland中安装rust插件



##### 2 概述

1. rust没有gc, 没有null
2. rust的变量与类型之间需要加冒号(colon), 无论是定义struct, fn还是声明变量, 这与kotlin类似, 相同的场景中golang不需要冒号
3. iterator的next()方法会被inline



##### 3 命令行

```shell
cargo build


```



##### 4 libraries

|                                                |                                                           |
| ---------------------------------------------- | --------------------------------------------------------- |
| [tracing](https://github.com/tokio-rs/tracing) | 日志库, 还是一个是[slog](https://github.com/slog-rs/slog) |
|                                                |                                                           |
|                                                |                                                           |
|                                                |                                                           |



#### 02 array/vec![]/&[T]

1. rust的array分配在stack上, vec![]则分配在heap上



#### 03 [closure](https://tonydeng.github.io/2019/11/09/rust-closure-type/)

1. closure分配在栈上, 有3种类型 `Fn(&self), FnOnce(self), FnMute(&mut self)`
2. FnOnce只能执行一次



```rust

// FnOnce(self)
// 只能执行一次, 执行完成后匿名struct会被drop
fn call_once(self, [Args]) -> [Return]

// FnMute(&mut self)
// 独占所捕获的引用
// 可以执行多次
fn call_mut(&mut self, [Args]) -> [Return]

// Fn(&self)
// 所捕获的引用可共享, 甚至什么都没有捕获
// 可以执行多次
fn call(&self, [Args]) -> [Return]

```







